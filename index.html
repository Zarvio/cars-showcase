<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pinora Web</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>


    </style>
</head>

<body>
    
<!-- HEADER -->
<header class="top-header">
    <div class="logo">Pinora</div>
</header>

<!-- Message Icon -->
<a class="nav-item" id="btnmessage">
    <i class="fa-regular fa-message"></i>
</a>

<!-- VIDEOS SEARCH (TOP) isme id change ki hai to sabi mein dekh lena feature mein iski id pahle username ki hai wo thi -->
<div class="search-header" id="userSearchBox">
    <input type="text" id="searchVideoInput" name="user" placeholder="Search videos...">
</div> 
<div class="filterBar">
  <button class="filter-btn active" data-filter="all">All</button>
  <button class="filter-btn" data-filter="following">Following</button>
  <button class="filter-btn" data-filter="verified">Verified</button>
  <button class="filter-btn" data-filter="popular">Popular</button>
</div>

<!-- Circular progress overlay, initially hidden -->
<div id="downloadProgressOverlay" style="display:none;">
    <div id="downloadProgressContainer">
        <svg id="progressCircle" width="80" height="80">
            <circle cx="40" cy="40" r="36" stroke="#ddd" stroke-width="6" fill="none" />
            <circle id="progressCircleFill" cx="40" cy="40" r="36" stroke="#4caf50" stroke-width="6" fill="none" stroke-linecap="round" 
                stroke-dasharray="226.2" stroke-dashoffset="226.2" transform="rotate(-90 40 40)" />
        </svg>
        <div id="progressPercent">0%</div>
    </div>
</div>

<!-- ========== VIDEO BOX TEMPLATE (MAIN PAGE) ========== -->
<template id="videoBoxTemplate">
    <div class="pin-box">

        <div class="mediaContainer">
            
            <!-- Overlaid uploader info -->
            <div class="uploaderOverlay">
                <img class="uploaderDP">
                <span class="uploaderName"></span>
            </div>

            <!-- Overlaid views info -->
            <div class="viewsOverlay">
                <i class="fa-regular fa-eye"></i>
                <span class="viewCount">0</span>
            </div>

            <!-- Media (video/image) yahan JS se inject hoga -->
        </div>

    </div>
</template>



<!-- ========== SMALL UPLOADER TEMPLATE (RELATED VIDEOS) ========== -->
<template id="uploaderSmallTemplate">
    <div class="uploaderHeaderSmall">
        <img class="smallDP">
        <span class="smallName"></span>
    </div>
</template>


<!-- ========== MAIN CONTENT AREA ========== -->
<main class="main-content"></main>
<!-- ========== RELATED VIDEOS CONTAINER ========== -->



<!-- ========== SMALL UPLOADER TEMPLATE ========== -->
<template id="relatedVideoTemplate">
    <div class="relatedBox">

        <!-- Small uploader header -->
        <div class="uploaderHeaderSmall">
            <img class="smallDP" src="">
            <span class="smallName"></span>
        </div>

        <!-- Thumbnail -->
        <img class="relatedThumb" src="">
    </div>
</template>


<!-- Video Modal -->
<div id="videoModal" class="modal hidden">
  <div class="modal-content">
   <span class="closeBtn"><i class="fa-solid fa-arrow-left"></i></span>

   <div class="modal-media-wrapper">

    <video id="modalVideo" controls autoplay></video>
    <img id="modalImage" style="display:none; border-radius:12px;">

    <!-- üëÅÔ∏è Views overlay for BIG video -->
    <div class="modalViewsOverlay">
        <i class="fa-regular fa-eye"></i>
        <span id="modalViewCount">0</span>
    </div>

</div>

<!-- Like + Comment Buttons -->
<div class="like-section">
    <button id="likeBtn">
        <i class="fa-regular fa-heart"></i>
        <span id="likeCount">0</span>
    </button>

    <button id="commentBtn">
        <i class="fa-regular fa-comment"></i>
        <span id="commentCount">0</span>
    </button>
    
    <button id="shareBtn">
        <i class="fa-solid fa-share"></i>
    </button>
   <button id="downloadBtn">
    <i class="fa-solid fa-download"></i>
</button>


</div>


<!-- Comment Input Box -->
<div class="comment-input-box" id="commentInputBox">
    <input type="text" id="commentInput" placeholder="Write a comment..." />
    <button id="sendCommentBtn">Send</button>
</div>

<div class="comment-modal hidden" id="commentModal">
    <div class="comment-modal-content">
        <span class="closeCommentModal">&times;</span>
        <h3>Comments</h3>
        <div id="allCommentsList"></div>
    </div>
    

</div>



<div class="share-menu hidden" id="shareMenu">
    <button class="shareOption" data-platform="whatsapp">
        <img src="whatsapp.png" alt="WhatsApp" class="share-icon"> WhatsApp
    </button>
    <button class="shareOption" data-platform="telegram">
        <img src="telegram.png" alt="Telegram" class="share-icon"> Telegram
    </button>
    <button class="shareOption" data-platform="copy">
    <i class="fa-regular fa-copy share-icon"></i> Copy Link
</button>
</div>

<!-- Link Copied Line -->
<div id="linkCopied" class="link-copied hidden">Link copied!</div>


<!-- Double Tap Heart -->
<div id="doubleTapHeart">‚ù§Ô∏è</div>




<h3 id="modalTitle"></h3>

    <div id="relatedVideos" class="related-videos"></div>
  </div>
</div>

<!-- BOTTOM NAV -->
<nav class="bottom-nav">
    <a class="nav-item active" id="btnHome">
        <i class="fa-solid fa-house"></i>
        <span>Home</span>
    </a>

    <a class="nav-item" id="btnSearch">
        <i class="fa-solid fa-magnifying-glass"></i>
        <span>Search</span>
    </a>

    <a class="nav-item" id="btnUpload">
        <i class="fa-solid fa-plus"></i>
        <span>Upload</span>
    </a>

    <a class="nav-item" id="btnNotifs" style="position:relative;">
  <i class="fa-regular fa-bell"></i>

  <!-- üî¥ LIVE COUNTER -->
  <span id="notifDot" class="notifCount" style="display:none;"></span>


  <span>Notification</span>
</a>





    <a class="nav-item" id="btnProfile">
        <i class="fa-regular fa-circle-user"></i>
        <span>Profile</span>
    </a>

    <!-- Admin Panel Button -->
    <div id="adminPanelBtn" class="admin-panel hidden">Admin Panel</div>
</nav>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<!-- Your JS -->
<script src="script.js"></script>

</body>
</html>
