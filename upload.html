<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload - Pinora</title>
    <link rel="icon" type="image/png" href="default.jpg">
    <link rel="stylesheet" href="upload.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<!-- TensorFlow.js -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.9.0/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>

<body>
<!-- Custom Alert Box -->
<div id="customAlert">
  <p id="customAlertMsg"></p>
  <button id="customAlertBtn">OK</button>
</div>

<!-- Overlay behind the popup -->
<div id="customAlertOverlay"></div>


<!-- Overlay behind the popup -->
<div id="customAlertOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
 background:rgba(200, 172, 172, 0.4); z-index:999;"></div>

<div id="uploadPopup" class="upload-popup hidden">
  <div class="popup-box">
    <p id="uploadStatus">Uploading...</p>

    <div class="progress-bar">
      <div id="progressFill"></div>
    </div>
  </div>
</div>
<div id="customPopup" class="popup hidden">
  <div class="popup-box">
    <h3 id="popupTitle">Error</h3>
    <p id="popupMessage"></p>
    <button id="popupClose">OK</button>
  </div>
</div>



<header class="top-header">
    <h1 class="logo">Pinora</h1>
</header>

<h2 class="welcome with-pet center-pet">
  <div class="teddy-pet" id="teddy">
    <div class="teddy-bubble" id="teddyBubble">
      Hi! Upload your video ðŸ˜Š
    </div>

    <div class="teddy">
      <div class="ears"></div>
      <div class="face">
        <div class="eyes">
          <span class="eye left"></span>
          <span class="eye right"></span>
        </div>
        <div class="mouth"></div>
      </div>
      <div class="hands">
        <span class="hand left"></span>
        <span class="hand right"></span>
      </div>
    </div>
  </div>
</h2>
<audio id="helloSound" src="hello.mp3"></audio>

<audio id="sleepSound" src="sleep.mp3" loop></audio>

<audio id="cryingSound" src="crying.mp3"></audio>

<audio id="uploadSound" src="yee.mp3"></audio>

    <form id="uploadForm">
        
  <input type="file" id="pinFile" accept="video/*" hidden>

<button type="button" id="selectFileBtn" class="select-btn">
  <i class="fa-solid fa-video"></i>  Select Video 
</button>

<p id="fileName" style="font-size:12px;color:#555;"></p>
<input type="text" placeholder="Title" id="pinTitle" required>
<p id="detectedTags" style="font-size:12px;color:#555;"></p> <!-- <-- add this line -->
<button type="submit">Upload</button>

    </form>
    <div id="previewBox" style="margin-top:15px;"></div>
</main>

<nav class="bottom-nav">
    <a class="nav-item" id="btnHome"><i class="fa-solid fa-house"></i><span>Home</span></a>
    <a class="nav-item" id="btnSearch"><i class="fa-solid fa-magnifying-glass"></i><span>Search</span></a>
    <a class="nav-item active" id="btnUpload"><i class="fa-solid fa-plus"></i><span>Upload</span></a>
    <a class="nav-item" id="btnNotifs"><i class="fa-solid fa-heart"></i></i><span>Notification</span></a>
    <a class="nav-item" id="btnProfile"><i class="fa-regular fa-circle-user"></i><span>Profile</span></a>
</nav>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="upload.js"></script>

<!-- 1. Firebase Core -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>


<!-- 4. Firebase Initialize -->
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDUefeJbHKIAs-l3zvFlGaas6VD63vv4kI",
    authDomain: "inspire4ever-c60ad.firebaseapp.com",
    databaseURL: "https://inspire4ever-c60ad-default-rtdb.firebaseio.com",
    projectId: "inspire4ever-c60ad",
    storageBucket: "inspire4ever-c60ad.appspot.com",
    messagingSenderId: "771054326516",
    appId: "1:771054326516:web:69fd1989229b25a8796380"
  };
  firebase.initializeApp(firebaseConfig);
</script>
<div id="privacyPopup" class="hidden">

  <div class="privacyCard">

    <h3>Who can see this video?</h3>

    <div class="privacyOptions">
      <label class="option">
        <input type="radio" name="privacy" value="public" checked>
        <span><i class="fa-solid fa-earth-americas"style="margin-right:5px;"></i> Public</span>
      </label>

      <label class="option">
        <input type="radio" name="privacy" value="private">
        <span><i class="fa-solid fa-lock"style="margin-right:5px;"></i> Private</span>
      </label>
    </div>

    <button id="confirmPrivacy">Continue</button>

  </div>
</div>


<script src="presence.js"></script>

</body>
</html>
